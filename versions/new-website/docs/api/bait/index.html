<!doctype html>
<html class="bg-stone-50 dark:bg-neutral-900 text-black dark:text-white"><head><meta content="width=device-width, initial-scale=1.0" name="viewport"><link href="/tailwind.css" rel="stylesheet"><title>Hilbish</title><meta content="#ff89dd" name="theme-color"><meta content="/hilbish-flower.png" property="og:image"><meta content="Hilbish" property="og:title"><meta content="Hilbish" property="og:site_name"><meta content="website" property="og:type"><meta content="Something Unique. Hilbish is the new interactive shell for Lua fans. Extensible, scriptable, configurable: All in Lua." property="og:description"><meta content="Something Unique. Hilbish is the new interactive shell for Lua fans. Extensible, scriptable, configurable: All in Lua." name="description"><meta content="Lua,Shell,Hilbish,Linux,zsh,bash" name="keywords"><meta content property="og:url"></head><body class="min-h-screen flex flex-col"><nav class="flex sticky top-0 w-full z-50 border-b border-b-zinc-300 backdrop-blur-md h-12"><div class="flex my-auto px-2"><div><a class="flex items-center gap-1" href="/"><img class="h-6" src="/hilbish-flower.png"><span class="self-center text-2xl">Hilbish</span></a></div></div></nav><div class="flex flex-col"><div class="h-10 flex py-2 px-4 border-b border-b-zinc-300 w-full gap-2 backdrop-blur-sm bg-zinc-300/50 dark:bg-zinc-800/50 z-50"><label class="cursor-pointer" for="sidebar-toggle"><tag><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" class="fill-black"><path d="M120-240v-80h240v80H120Zm0-200v-80h480v80H120Zm0-200v-80h720v80H120Z"/></svg></tag></label><span>Module bait</span></div><div class="grid"><input class="peer hidden" id="sidebar-toggle" type="checkbox"><div class="border-r border-r-zinc-300 col-start-1 row-start-1 sticky top-22 sm:top-12 h-full sm:h-svh bg-neutral-200 dark:bg-neutral-900 basis-3/5 transition-transform duration-300 -translate-x-full peer-checked:translate-x-0 z-30"><div class="p-4 -mb-4 overflow-y-auto h-full"><h2 class="text-xl font-semibold mb-4">Sidebar</h2><ul><li class="mb-2">Vim Mode</li><li class="mb-2">Completions</li><li class="mb-2">Lunacolors</li><li class="mb-2">Frequently Asked Questions</li><li class="mb-2">Getting Started</li><li class="mb-2">Introduction</li><li class="mb-2">Module hilbish</li><li class="mb-2">Module fs</li><li class="mb-2">Module snail</li><li class="mb-2">Module terminal</li><li class="mb-2">Module commander</li><li class="mb-2">API</li><li class="mb-2">Module bait</li><li class="mb-2">Module hilbish.module</li><li class="mb-2">Module hilbish.abbr</li><li class="mb-2">Module hilbish.userDir</li><li class="mb-2">Module hilbish.os</li><li class="mb-2">Module hilbish.history</li><li class="mb-2">Module hilbish.completion</li><li class="mb-2">Module hilbish.messages</li><li class="mb-2">Module hilbish.aliases</li><li class="mb-2">Module hilbish.runner</li><li class="mb-2">Module hilbish.timers</li><li class="mb-2">Module hilbish</li><li class="mb-2">Module hilbish.jobs</li><li class="mb-2">Module hilbish.editor</li><li class="mb-2">Actions</li><li class="mb-2">Module doc</li><li class="mb-2">Nature</li><li class="mb-2">Module dirs</li><li class="mb-2">Hilbish</li><li class="mb-2">Command</li><li class="mb-2">Signals</li><li class="mb-2">Signal</li><li class="mb-2">Notification</li><li class="mb-2">Runner Mode</li><li class="mb-2">Options</li><li class="mb-2">Features</li></ul></div></div><main class="col-start-1 row-start-1 transition-all duration-300 peer-checked:filter peer-checked:blur-sm peer-checked:bg-black/30 px-4 pt-2"><h1 class="font-bold text-4xl">Module bait</h1><h2 class="font-bold text-3xl" id="Introduction">Introduction</h2><p>Bait is the event emitter for Hilbish. Much like Node.js and
its <code>events</code> system, many actions in Hilbish emit events.
Unlike Node.js, Hilbish events are global. So make sure to
pick a unique name!</p><p>Usage of the Bait module consists of userstanding
event-driven architecture, but it&#39;s pretty simple:
If you want to act on a certain event, you can <code>catch</code> it.
You can act on events via callback functions.</p><p>Examples of this are in the Hilbish default config!
Consider this part of it:
<code>lua
bait.catch(&#39;command.exit&#39;, function(code)
	running = false
	doPrompt(code ~= 0)
	doNotifyPrompt()
end)
</code></p><p>What this does is, whenever the <code>command.exit</code> event is thrown,
this function will set the user prompt.</p><h2 class="font-bold text-3xl" id="Functions-|||-|----|----|-|&lt;a-href=&quot;catch&quot;&gt;catch(name-cb)&lt;/a&gt;|Catches-an-event.-This-function-can-be-used-to-act-on-events.|-|&lt;a-href=&quot;catchOnce&quot;&gt;catchOnce(name-cb)&lt;/a&gt;|Catches-an-event-but-only-once.-This-will-remove-the-hook-immediately-after-it-runs-for-the-first-time.|-|&lt;a-href=&quot;hooks&quot;&gt;hooks(name)--&gt;-table&lt;/a&gt;|Returns-a-table-of-functions-that-are-hooked-on-an-event-with-the-corresponding-name.|-|&lt;a-href=&quot;release&quot;&gt;release(name-catcher)&lt;/a&gt;|Removes-the-catcher-for-the-event-with-name.|-|&lt;a-href=&quot;throw&quot;&gt;throw(name-...args)&lt;/a&gt;|Throws-a-hook-with-name-with-the-provided-args.|">Functions
|||
|----|----|
|&lt;a href=&quot;#catch&quot;&gt;catch(name, cb)&lt;/a&gt;|Catches an event. This function can be used to act on events.|
|&lt;a href=&quot;#catchOnce&quot;&gt;catchOnce(name, cb)&lt;/a&gt;|Catches an event, but only once. This will remove the hook immediately after it runs for the first time.|
|&lt;a href=&quot;#hooks&quot;&gt;hooks(name) -&gt; table&lt;/a&gt;|Returns a table of functions that are hooked on an event with the corresponding <code>name</code>.|
|&lt;a href=&quot;#release&quot;&gt;release(name, catcher)&lt;/a&gt;|Removes the <code>catcher</code> for the event with <code>name</code>.|
|&lt;a href=&quot;#throw&quot;&gt;throw(name, ...args)&lt;/a&gt;|Throws a hook with <code>name</code> with the provided <code>args</code>.|</h2><p>&lt;hr&gt;
&lt;div id=&#39;catch&#39;&gt;
&lt;h4 class=&#39;heading&#39;&gt;
bait.catch(name, cb)
&lt;a href=&quot;#catch&quot; class=&#39;heading-link&#39;&gt;
	&lt;i class=&quot;fas fa-paperclip&quot;&gt;&lt;/i&gt;
&lt;/a&gt;
&lt;/h4&gt;</p><p>Catches an event. This function can be used to act on events.  </p><p class="font-bold text-xl" id="Parameters-string-**name**---The-name-of-the-hook.">Parameters
<code>string</code> **<code>name</code>**  
The name of the hook.</p><p><code>function</code> **<code>cb</code>**  
The function that will be called when the hook is thrown.</p><p class="font-bold text-xl" id="Example-lua-bait.catch(&#39;hilbish.exit&#39;-function()-	print-&#39;Goodbye-Hilbish&#39;-end)--&lt;/div&gt;">Example
<code>lua
bait.catch(&#39;hilbish.exit&#39;, function()
	print &#39;Goodbye Hilbish!&#39;
end)
</code>
&lt;/div&gt;</p><p>&lt;hr&gt;
&lt;div id=&#39;catchOnce&#39;&gt;
&lt;h4 class=&#39;heading&#39;&gt;
bait.catchOnce(name, cb)
&lt;a href=&quot;#catchOnce&quot; class=&#39;heading-link&#39;&gt;
	&lt;i class=&quot;fas fa-paperclip&quot;&gt;&lt;/i&gt;
&lt;/a&gt;
&lt;/h4&gt;</p><p>Catches an event, but only once. This will remove the hook immediately after it runs for the first time.  </p><p class="font-bold text-xl" id="Parameters-string-**name**---The-name-of-the-event">Parameters
<code>string</code> **<code>name</code>**  
The name of the event</p><p><code>function</code> **<code>cb</code>**  
The function that will be called when the event is thrown.</p><p>&lt;/div&gt;</p><p>&lt;hr&gt;
&lt;div id=&#39;hooks&#39;&gt;
&lt;h4 class=&#39;heading&#39;&gt;
bait.hooks(name) -&gt; table
&lt;a href=&quot;#hooks&quot; class=&#39;heading-link&#39;&gt;
	&lt;i class=&quot;fas fa-paperclip&quot;&gt;&lt;/i&gt;
&lt;/a&gt;
&lt;/h4&gt;</p><p>Returns a table of functions that are hooked on an event with the corresponding <code>name</code>.  </p><p class="font-bold text-xl" id="Parameters-string-**name**---The-name-of-the-hook">Parameters
<code>string</code> **<code>name</code>**  
The name of the hook</p><p>&lt;/div&gt;</p><p>&lt;hr&gt;
&lt;div id=&#39;release&#39;&gt;
&lt;h4 class=&#39;heading&#39;&gt;
bait.release(name, catcher)
&lt;a href=&quot;#release&quot; class=&#39;heading-link&#39;&gt;
	&lt;i class=&quot;fas fa-paperclip&quot;&gt;&lt;/i&gt;
&lt;/a&gt;
&lt;/h4&gt;</p><p>Removes the <code>catcher</code> for the event with <code>name</code>.  
For this to work, <code>catcher</code> has to be the same function used to catch  
an event, like one saved to a variable.  </p><p class="font-bold text-xl" id="Parameters-string-**name**---Name-of-the-event-the-hook-is-on">Parameters
<code>string</code> **<code>name</code>**  
Name of the event the hook is on</p><p><code>function</code> **<code>catcher</code>**  
Hook function to remove</p><p class="font-bold text-xl" id="Example-lua-local-hookCallback-=-function()-print-&#39;hi&#39;-end">Example
<code>lua
local hookCallback = function() print &#39;hi&#39; end</code></p><p>bait.catch(&#39;event&#39;, hookCallback)</p><p>-- a little while later....
bait.release(&#39;event&#39;, hookCallback)
-- and now hookCallback will no longer be ran for the event.
<code>
&lt;/div&gt;</code></p><p>&lt;hr&gt;
&lt;div id=&#39;throw&#39;&gt;
&lt;h4 class=&#39;heading&#39;&gt;
bait.throw(name, ...args)
&lt;a href=&quot;#throw&quot; class=&#39;heading-link&#39;&gt;
	&lt;i class=&quot;fas fa-paperclip&quot;&gt;&lt;/i&gt;
&lt;/a&gt;
&lt;/h4&gt;</p><p>Throws a hook with <code>name</code> with the provided <code>args</code>.  </p><p class="font-bold text-xl">Parameters
<code>string</code> **<code>name</code>**  
The name of the hook.</p><p><code>any</code> **<code>args</code>** (This type is variadic. You can pass an infinite amount of parameters with this type.)  
The arguments to pass to the hook.</p><p class="font-bold text-xl" id="Example-lua-bait.throw(&#39;greeting&#39;-&#39;world&#39;)">Example
<code>lua
bait.throw(&#39;greeting&#39;, &#39;world&#39;)</code></p><p>-- This can then be listened to via
bait.catch(&#39;gretting&#39;, function(greetTo)
	print(&#39;Hello &#39; .. greetTo)
end)
<code>
&lt;/div&gt;</code></p></main></div></div><footer class="py-4 px-6 flex flex-row justify-around border-t border-t-zinc-300"><div class="flex flex-col"><a class="flex items-center gap-1" href><img class="h-24" src="/hilbish-flower.png"><span class="self-center text-6xl">Hilbish</span></a><span class="text-xl">The Moon-powered shell!</span><span class="text-light text-neutral-500">MIT License, copyright sammyette 2025</span></div><div class="flex flex-col"><a href="https://github.com/Rosettea/Hilbish"><span class="text-pink-300 text-light">GitHub</span></a></div></footer></body></html>