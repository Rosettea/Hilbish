<!doctype html>
<html class="bg-stone-50 dark:bg-neutral-900 text-black dark:text-white"><head><meta content="width=device-width, initial-scale=1.0" name="viewport"><link href="/tailwind.css" rel="stylesheet"><title>Hilbish</title><meta content="#ff89dd" name="theme-color"><meta content="/hilbish-flower.png" property="og:image"><meta content="Hilbish" property="og:title"><meta content="Hilbish" property="og:site_name"><meta content="website" property="og:type"><meta content="Something Unique. Hilbish is the new interactive shell for Lua fans. Extensible, scriptable, configurable: All in Lua." property="og:description"><meta content="Something Unique. Hilbish is the new interactive shell for Lua fans. Extensible, scriptable, configurable: All in Lua." name="description"><meta content="Lua,Shell,Hilbish,Linux,zsh,bash" name="keywords"><meta content property="og:url"></head><body class="min-h-screen flex flex-col"><nav class="flex sticky top-0 w-full z-50 border-b border-b-zinc-300 backdrop-blur-md h-12"><div class="flex my-auto px-2"><div><a class="flex items-center gap-1" href="/"><img class="h-6" src="/hilbish-flower.png"><span class="self-center text-2xl">Hilbish</span></a></div></div></nav><div class="flex flex-col"><div class="h-10 flex py-2 px-4 border-b border-b-zinc-300 w-full gap-2 backdrop-blur-sm bg-zinc-300/50 dark:bg-zinc-800/50 z-50"><label class="cursor-pointer" for="sidebar-toggle"><tag><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" class="fill-black"><path d="M120-240v-80h240v80H120Zm0-200v-80h480v80H120Zm0-200v-80h720v80H120Z"/></svg></tag></label><span>Module commander</span></div><div class="grid"><input class="peer hidden" id="sidebar-toggle" type="checkbox"><div class="border-r border-r-zinc-300 col-start-1 row-start-1 sticky top-22 sm:top-12 h-full sm:h-svh bg-neutral-200 dark:bg-neutral-900 basis-3/5 transition-transform duration-300 -translate-x-full peer-checked:translate-x-0 z-30"><div class="p-4 -mb-4 overflow-y-auto h-full"><h2 class="text-xl font-semibold mb-4">Sidebar</h2><ul><li class="mb-2">Vim Mode</li><li class="mb-2">Completions</li><li class="mb-2">Lunacolors</li><li class="mb-2">Frequently Asked Questions</li><li class="mb-2">Getting Started</li><li class="mb-2">Introduction</li><li class="mb-2">Module hilbish</li><li class="mb-2">Module fs</li><li class="mb-2">Module snail</li><li class="mb-2">Module terminal</li><li class="mb-2">Module commander</li><li class="mb-2">API</li><li class="mb-2">Module bait</li><li class="mb-2">Module hilbish.module</li><li class="mb-2">Module hilbish.abbr</li><li class="mb-2">Module hilbish.userDir</li><li class="mb-2">Module hilbish.os</li><li class="mb-2">Module hilbish.history</li><li class="mb-2">Module hilbish.completion</li><li class="mb-2">Module hilbish.messages</li><li class="mb-2">Module hilbish.aliases</li><li class="mb-2">Module hilbish.runner</li><li class="mb-2">Module hilbish.timers</li><li class="mb-2">Module hilbish</li><li class="mb-2">Module hilbish.jobs</li><li class="mb-2">Module hilbish.editor</li><li class="mb-2">Actions</li><li class="mb-2">Module doc</li><li class="mb-2">Nature</li><li class="mb-2">Module dirs</li><li class="mb-2">Hilbish</li><li class="mb-2">Command</li><li class="mb-2">Signals</li><li class="mb-2">Signal</li><li class="mb-2">Notification</li><li class="mb-2">Runner Mode</li><li class="mb-2">Options</li><li class="mb-2">Features</li></ul></div></div><main class="col-start-1 row-start-1 transition-all duration-300 peer-checked:filter peer-checked:blur-sm peer-checked:bg-black/30 px-4 pt-2"><h1 class="font-bold text-4xl">Module commander</h1><h2 class="font-bold text-3xl" id="Introduction">Introduction</h2><p>Commander is the library which handles Hilbish commands. This makes
the user able to add Lua-written commands to their shell without making
a separate script in a bin folder. Instead, you may simply use the Commander
library in your Hilbish config.</p><pre><code data-lang="lua">local commander = require &#39;commander&#39;

commander.register(&#39;hello&#39;, function(args, sinks)
	sinks.out:writeln &#39;Hello world!&#39;
end)
</code></pre><p>In this example, a command with the name of <code>hello</code> is created
that will print <code>Hello world!</code> to output. One question you may
have is: What is the <code>sinks</code> parameter?</p><p>The <code>sinks</code> parameter is a table with 3 keys: <code>input</code>, <code>out</code>, and <code>err</code>.
There is an <code>in</code> alias to <code>input</code>, but it requires using the string accessor syntax (<code>sinks[&#39;in&#39;]</code>)
as <code>in</code> is also a Lua keyword, so <code>input</code> is preferred for use.
All of them are a &lt;a href=&quot;/Hilbish/docs/api/hilbish/#sink&quot; style=&quot;text-decoration: none;&quot;&gt;Sink&lt;/a&gt;.
In the future, <code>sinks.in</code> will be removed.</p><ul style="list-style-type:&#39;-&#39;;"><li><p><code>in</code> is the standard input.</p></li></ul><p>You may use the read functions on this sink to get input from the user.
- <code>out</code> is standard output.
This is usually where command output should go.
- <code>err</code> is standard error.
This sink is for writing errors, as the name would suggest.</p><h2 class="font-bold text-3xl" id="Functions-|||-|----|----|-|&lt;a-href=&quot;deregister&quot;&gt;deregister(name)&lt;/a&gt;|Removes-the-named-command.-Note-that-this-will-only-remove-Commander-registered-commands.|-|&lt;a-href=&quot;register&quot;&gt;register(name-cb)&lt;/a&gt;|Adds-a-new-command-with-the-given-name.-When-Hilbish-has-to-run-a-command-with-a-name|-|&lt;a-href=&quot;registry&quot;&gt;registry()--&gt;-table&lt;/a&gt;|Returns-all-registered-commanders.-Returns-a-list-of-tables-with-the-following-keys:|">Functions
|||
|----|----|
|&lt;a href=&quot;#deregister&quot;&gt;deregister(name)&lt;/a&gt;|Removes the named command. Note that this will only remove Commander-registered commands.|
|&lt;a href=&quot;#register&quot;&gt;register(name, cb)&lt;/a&gt;|Adds a new command with the given <code>name</code>. When Hilbish has to run a command with a name,|
|&lt;a href=&quot;#registry&quot;&gt;registry() -&gt; table&lt;/a&gt;|Returns all registered commanders. Returns a list of tables with the following keys:|</h2><p>&lt;hr&gt;
&lt;div id=&#39;deregister&#39;&gt;
&lt;h4 class=&#39;heading&#39;&gt;
commander.deregister(name)
&lt;a href=&quot;#deregister&quot; class=&#39;heading-link&#39;&gt;
	&lt;i class=&quot;fas fa-paperclip&quot;&gt;&lt;/i&gt;
&lt;/a&gt;
&lt;/h4&gt;</p><p>Removes the named command. Note that this will only remove Commander-registered commands.  </p><p class="font-bold text-xl" id="Parameters-string-**name**---Name-of-the-command-to-remove.">Parameters
<code>string</code> **<code>name</code>**  
Name of the command to remove.</p><p>&lt;/div&gt;</p><p>&lt;hr&gt;
&lt;div id=&#39;register&#39;&gt;
&lt;h4 class=&#39;heading&#39;&gt;
commander.register(name, cb)
&lt;a href=&quot;#register&quot; class=&#39;heading-link&#39;&gt;
	&lt;i class=&quot;fas fa-paperclip&quot;&gt;&lt;/i&gt;
&lt;/a&gt;
&lt;/h4&gt;</p><p>Adds a new command with the given <code>name</code>. When Hilbish has to run a command with a name,  
it will run the function providing the arguments and sinks.  </p><p class="font-bold text-xl" id="Parameters-string-**name**---Name-of-the-command">Parameters
<code>string</code> **<code>name</code>**  
Name of the command</p><p><code>function</code> **<code>cb</code>**  
Callback to handle command invocation</p><p class="font-bold text-xl" id="Example-lua----When-you-run-the-command-`hello`-in-the-shell-it-will-print-`Hello-world`.----If-you-run-it-with-for-example-`hello-Hilbish`-it-will-print-&#39;Hello-Hilbish&#39;-commander.register(&#39;hello&#39;-function(args-sinks)-	local-name-=-&#39;world&#39;-	if-args-&gt;-0-then-name-=-args[1]-end">Example
<code>lua
-- When you run the command `hello` in the shell, it will print `Hello world`.
-- If you run it with, for example, `hello Hilbish`, it will print &#39;Hello Hilbish&#39;
commander.register(&#39;hello&#39;, function(args, sinks)
	local name = &#39;world&#39;
	if #args &gt; 0 then name = args[1] end</code></p><p>	sinks.out:writeln(&#39;Hello &#39; .. name)
end)
<code>
&lt;/div&gt;</code></p><p>&lt;hr&gt;
&lt;div id=&#39;registry&#39;&gt;
&lt;h4 class=&#39;heading&#39;&gt;
commander.registry() -&gt; table
&lt;a href=&quot;#registry&quot; class=&#39;heading-link&#39;&gt;
	&lt;i class=&quot;fas fa-paperclip&quot;&gt;&lt;/i&gt;
&lt;/a&gt;
&lt;/h4&gt;</p><p>Returns all registered commanders. Returns a list of tables with the following keys:  
- <code>exec</code>: The function used to run the commander. Commanders require args and sinks to be passed.  </p><p class="font-bold text-xl" id="Parameters-This-function-has-no-parameters.---&lt;/div&gt;">Parameters
This function has no parameters.  
&lt;/div&gt;</p></main></div></div><footer class="py-4 px-6 flex flex-row justify-around border-t border-t-zinc-300"><div class="flex flex-col"><a class="flex items-center gap-1" href><img class="h-24" src="/hilbish-flower.png"><span class="self-center text-6xl">Hilbish</span></a><span class="text-xl">The Moon-powered shell!</span><span class="text-light text-neutral-500">MIT License, copyright sammyette 2025</span></div><div class="flex flex-col"><a href="https://github.com/Rosettea/Hilbish"><span class="text-pink-300 text-light">GitHub</span></a></div></footer></body></html>