<!doctype html>
<html class="bg-stone-50 dark:bg-neutral-900 text-black dark:text-white"><head><meta content="width=device-width, initial-scale=1.0" name="viewport"><link href="https://rosettea.github.io/Hilbish/versions/new-website//tailwind.css" rel="stylesheet"><title>Hilbish</title><meta content="#ff89dd" name="theme-color"><meta content="https://rosettea.github.io/Hilbish/versions/new-website//hilbish-flower.png" property="og:image"><meta content="Hilbish" property="og:title"><meta content="Hilbish" property="og:site_name"><meta content="website" property="og:type"><meta content="Something Unique. Hilbish is the new interactive shell for Lua fans. Extensible, scriptable, configurable: All in Lua." property="og:description"><meta content="Something Unique. Hilbish is the new interactive shell for Lua fans. Extensible, scriptable, configurable: All in Lua." name="description"><meta content="Lua,Shell,Hilbish,Linux,zsh,bash" name="keywords"><meta content="https://rosettea.github.io/Hilbish/versions/new-website/" property="og:url"></head><body class="min-h-screen flex flex-col"><nav class="bg-stone-50/80 dark:bg-neutral-900/80 flex justify-around sticky items-center top-0 w-full z-50 border-b border-b-zinc-300 backdrop-blur-md h-18"><div class="flex my-auto px-2"><div><a class="flex items-center gap-1" href="/"><img class="h-16" src="/hilbish-flower.png"><span class="self-center text-3xl font-medium">Hilbish</span></a></div></div><div class="flex gap-3 dark:text-pink-300 text-pink-600"><a href="https://rosettea.github.io/Hilbish/versions/new-website//">Home</a><a href="https://rosettea.github.io/Hilbish/versions/new-website///install">Install</a><a href="https://rosettea.github.io/Hilbish/versions/new-website///docs">Docs</a><a href="https://rosettea.github.io/Hilbish/versions/new-website///blog">Blog</a></div></nav><div class="flex-auto flex flex-col overflow-none"><div class="sm:hidden h-10 flex py-2 px-4 border-b border-b-zinc-300 w-full gap-2 backdrop-blur-sm bg-zinc-300/50 dark:bg-zinc-800/50 z-50"><label class="cursor-pointer" for="sidebar-toggle"><tag><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" class="fill-black"><path d="M120-240v-80h240v80H120Zm0-200v-80h480v80H120Zm0-200v-80h720v80H120Z"/></svg></tag></label><span>Completions</span></div><div class="h-full sm:flex grid"><input class="peer hidden" id="sidebar-toggle" type="checkbox"><div class="p-4 border-r border-r-zinc-300 col-start-1 row-start-1 bg-neutral-200 dark:bg-neutral-900 basis-2/10 transition-transform duration-300 -translate-x-full peer-checked:translate-x-0 sm:translate-x-0 z-30"><ul><li class="mb-2"><a href="/docs/completions">Completions</a></li><li class="mb-2"><a href="/docs/nature/doc">Module doc</a></li><li class="mb-2"><a href="/docs">Introduction</a></li><li class="mb-2"><a href="/docs/getting-started">Getting Started</a></li><li class="mb-2"><a href="/docs/faq">Frequently Asked Questions</a></li><li class="mb-2"><a href="/docs/lunacolors">Lunacolors</a></li><li class="mb-2"><a href="/docs/nature/dirs">Module dirs</a></li><li class="mb-2"><a href="/docs/nature">Nature</a></li><li class="mb-2"><a href="/docs/api/fs">Module fs</a></li><li class="mb-2"><a href="/docs/api/hilbish">Module hilbish</a></li><li class="mb-2"><a href="/docs/api/bait">Module bait</a></li><li class="mb-2"><a href="/docs/api/terminal">Module terminal</a></li><li class="mb-2"><a href="/docs/api/commander">Module commander</a></li><li class="mb-2"><a href="/docs/api">API</a></li><li class="mb-2"><a href="/docs/api/snail">Module snail</a></li><li class="mb-2"><a href="/docs/features/runner-mode">Runner Mode</a></li><li class="mb-2"><a href="/docs/features/opts">Options</a></li><li class="mb-2"><a href="/docs/features">Features</a></li><li class="mb-2"><a href="/docs/features/notifications">Notification</a></li><li class="mb-2"><a href="/docs/hooks/hilbish">Hilbish</a></li><li class="mb-2"><a href="/docs/hooks">Signals</a></li><li class="mb-2"><a href="/docs/hooks/command">Command</a></li><li class="mb-2"><a href="/docs/hooks/signal">Signal</a></li><li class="mb-2"><a href="/docs/vim-mode/actions">Actions</a></li><li class="mb-2"><a href="/docs/vim-mode">Vim Mode</a></li></ul></div><main class="mb-4 h-full overflow-y-auto basis-7/7 col-start-1 row-start-1 transition-all duration-300 peer-checked:filter peer-checked:blur-sm peer-checked:bg-black/30 px-4 pt-2"><h1 class="mb-2 font-bold text-4xl">Completions</h1><p>Completions for commands can be created with the <a href="../api/hilbish#complete"><code class="text-violet-600 dark:text-violet-400">hilbish.complete</code></a>
function. See the link for how to use it.</p><p>To create completions for a command is simple.
The callback will be passed 3 parameters:
- <code class="text-violet-600 dark:text-violet-400">query</code> (string): The text that the user is currently trying to complete.
This should be used to match entries.
- <code class="text-violet-600 dark:text-violet-400">ctx</code> (string): Contains the entire line. Use this if
more text is needed to be parsed for context.
- <code class="text-violet-600 dark:text-violet-400">fields</code> (string): The <code class="text-violet-600 dark:text-violet-400">ctx</code> split up by spaces.</p><p>In most cases, the completer just uses <code class="text-violet-600 dark:text-violet-400">fields</code> to check the amount
and <code class="text-violet-600 dark:text-violet-400">query</code> on what to match entries on.</p><p>In order to return your results, it has to go within a &quot;completion group.&quot;
Then you return a table of completion groups and a prefix. The prefix will
usually just be the <code class="text-violet-600 dark:text-violet-400">query</code>.</p><p>Hilbish allows one to mix completion menus of different types, so
a grid menu and a list menu can be used and complete and display at the same time.
A completion group is a table with these keys:
- <code class="text-violet-600 dark:text-violet-400">type</code> (string): type of completion menu, either <code class="text-violet-600 dark:text-violet-400">grid</code> or <code class="text-violet-600 dark:text-violet-400">list</code>.
- <code class="text-violet-600 dark:text-violet-400">items</code> (table): a list of items. </p><p>The requirements of the <code class="text-violet-600 dark:text-violet-400">items</code> table is different based on the
<code class="text-violet-600 dark:text-violet-400">type</code>. If it is a <code class="text-violet-600 dark:text-violet-400">grid</code>, it can simply be a table of strings.</p><p>Otherwise if it is a <code class="text-violet-600 dark:text-violet-400">list</code> then each entry can
either be a string or a table.
Example:
<code class="text-violet-600 dark:text-violet-400">lua
local cg = {
	items = {
		&#39;list item 1&#39;,
		[&#39;--command-flag-here&#39;] = {&#39;this does a thing&#39;, &#39;--the-flag-alias&#39;}
	},
	type = &#39;list&#39;
}
local cg2 = {
	items = {&#39;just&#39;, &#39;a bunch&#39;, &#39;of items&#39;, &#39;here&#39;, &#39;hehe&#39;},
	type = &#39;grid&#39;
}</code></p><p>return {cg, cg2}, prefix
<code class="text-violet-600 dark:text-violet-400"></code></p><p>Which looks like this:  
{{&lt; video src=&quot;https://safe.saya.moe/t4CiLK6dgPbD.mp4&quot; &gt;}}</p><h1 class="mb-1 text-neutral-800 dark:text-neutral-300 font-bold text-4xl" id="Completion-Group-Types">Completion Group Types</h1><h3 class="mb-1 text-neutral-800 dark:text-neutral-300 font-bold text-2xl" id="grid-Grid-is-the-simplest-completion-group-type.-All-items-are-strings-and-when-completion-is-done-is-displayed-in-a-grid-based-on-size.">grid
Grid is the simplest completion group type. All items are strings and when
completion is done is displayed in a grid based on size.</h3><p>Example:
<code class="text-violet-600 dark:text-violet-400">lua
{
	items = {&#39;just&#39;, &#39;a bunch&#39;, &#39;of items&#39;, &#39;here&#39;, &#39;hehe&#39;},
	type = &#39;grid&#39;
}
</code></p><h3 class="mb-1 text-neutral-800 dark:text-neutral-300 font-bold text-2xl" id="list-The-list-completion-group-type-displays-in-a-list.-A-list-item-can-either-be-a-string-or-a-table-for-additional-display-options.-A-completion-alias-can-be-specified-either-as-the-2nd-entry-in-the-options-table-or-te-alias-key.">list
The list completion group type displays in a list. A list item can either be a string, or a table for additional display options.
A completion alias can be specified either as the <code class="text-violet-600 dark:text-violet-400">2nd</code> entry in the options table
or te <code class="text-violet-600 dark:text-violet-400">alias</code> key.</h3><p>A description can optionally be displayed for a list item, which is either the <code class="text-violet-600 dark:text-violet-400">1st</code>
entry or the <code class="text-violet-600 dark:text-violet-400">description</code> key.</p><p>Lastly, list entries can be styled. This is done with the <code class="text-violet-600 dark:text-violet-400">display</code> key. If this is present, this
overrides what the completion item <strong>looks</strong> like.</p><p>Example:
<code class="text-violet-600 dark:text-violet-400">lua
{
	items = {
		[&#39;--flag&#39;] = {
			description = &#39;this flag nukes the bri ish&#39;,
			alias = &#39;--bye-bri-ish&#39;,
			display = lunacolors.format(&#39;--{blue}fl{red}ag&#39;)
		},
		[&#39;--flag2&#39;] = {
			&#39;make pizza&#39;, -- description
			&#39;--pizzuh&#39;, -- alias
			display = lunacolors.yellow &#39;--pizzuh&#39;
		},
		&#39;--flag3&#39;
	},
	type = &#39;list&#39;
}
</code></p><h1 class="mb-1 text-neutral-800 dark:text-neutral-300 font-bold text-4xl" id="Completion-Handler-Like-most-parts-of-Hilbish-it&#39;s-made-to-be-extensible-and-customizable.-The-default-handler-for-completions-in-general-can-be-overwritten-to-provide-more-advanced-completions-if-needed.-This-usually-doesn&#39;t-need-to-be-done-though-unless-you-know-what-you&#39;re-doing.">Completion Handler
Like most parts of Hilbish, it&#39;s made to be extensible and
customizable. The default handler for completions in general can
be overwritten to provide more advanced completions if needed.
This usually doesn&#39;t need to be done though, unless you know
what you&#39;re doing.</h1><p>The default completion handler provides 3 things:
binaries (with a plain name requested to complete, those in
$PATH), files, or command completions. It will try to run a handler
for the  command or fallback to file completions.</p><p>To overwrite it, just assign a function to <code class="text-violet-600 dark:text-violet-400">hilbish.completion.handler</code> like so:
<code class="text-violet-600 dark:text-violet-400">lua
-- line is the entire line as a string
-- pos is the position of the cursor.
function hilbish.completion.handler(line, pos)
	-- do things
end
</code></p></main></div></div><footer class="py-4 px-6 flex flex-row justify-around border-t border-t-zinc-300"><div class="flex flex-col"><a class="flex items-center gap-1" href="https://rosettea.github.io/Hilbish/versions/new-website/"><img class="h-24" src="/hilbish-flower.png"><span class="self-center text-6xl">Hilbish</span></a><span class="text-xl">The Moon-powered shell!</span><span class="text-light text-neutral-500">MIT License, copyright sammyette 2025</span></div><div class="flex flex-col"><a href="https://github.com/Rosettea/Hilbish"><span class="text-pink-300 text-light">GitHub</span></a></div></footer></body></html>